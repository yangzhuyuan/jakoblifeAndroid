{"version":3,"sources":["uni_modules/wuwx-step-counter/utssdk/app-android/index.uts"],"sourcesContent":["import Context from \"android.content.Context\";\nimport SensorEventListener from 'android.hardware.SensorEventListener';\nimport SensorEvent from 'android.hardware.SensorEvent';\nimport Sensor from 'android.hardware.Sensor';\nimport UTSAndroid from 'io.dcloud.uts.UTSAndroid';\nimport SensorManager from 'android.hardware.SensorManager';\n\ntype StartStepCountingUpdatesOptions = {\n\tstepCounts: Int | null;\n\thandler: (numberOfSteps : Float, timestamp : Date, error : any) => void;\n}\n\ntype QueryStepCountStartingOptions = {\n\tstart: Date | null,\n\tend: Date | null,\n\thandler: (numberOfSteps : Int, error : any) => void\n}\n\nlet successHandler = (numberOfSteps : Float, timestamp : Date, error : any) => {\n\n};\n\nclass StepCounterSensorEventListener implements SensorEventListener {\n\n\toverride onSensorChanged(event : SensorEvent) : void {\n\t\tsuccessHandler(event.values[0], new Date(), \"\")\n\t}\n\n\toverride onAccuracyChanged(sensor : Sensor, param1 : Int) : void {\n\n\t}\n}\n\nexport function startStepCountingUpdates(options: StartStepCountingUpdatesOptions) {\n\n\tlet stepCounterSensorEventListener = new StepCounterSensorEventListener();\n\tsuccessHandler = options.handler;\n\n\tconst context = UTSAndroid.getAppContext();\n\tif (context != null) {\n\t\tconst sensorManager = context.getSystemService(Context.SENSOR_SERVICE) as SensorManager\n\n\t\tsensorManager.unregisterListener(stepCounterSensorEventListener, sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER))\n\t\tsensorManager.registerListener(stepCounterSensorEventListener, sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER), SensorManager.SENSOR_DELAY_NORMAL)\n\t}\n}\n\nexport function stopStepCountingUpdates() {\n\t\n}\n\nexport function queryStepCountStarting(options: QueryStepCountStartingOptions) {\n\n}\n\nexport function isStepCountingAvailable() {\n\n}\n"],"names":[],"mappings":";;AAAA,OAAoB,uBAAyB,CAAC;AAG9C,OAAmB,uBAAyB,CAAC;AAD7C,OAAwB,4BAA8B,CAAC;AADvD,OAAgC,oCAAsC,CAAC;AAIvE,OAA0B,8BAAgC,CAAC;;;;;;;AAD3D,OAAuB,wBAA0B,CAAC;;;;;AAGX,WAAlC;IACJ,qBAAY,YAAW;IACvB,mBAAU,eAAgB,OAAO,WAAY,MAAM,OAAQ,GAAG,KAAK,IAAI,CAAC;AACzE;;;;;AAEqC,WAAhC;IACJ,gBAAO,aAAY;IACnB,cAAK,aAAY;IACjB,mBAAU,eAAgB,KAAK,OAAQ,GAAG,KAAK,IAAI,CAAA;AACpD;;;;;AAEA,IAAI,iBAAiB,IAAC,eAAgB,OAAO,WAAY,MAAM,OAAQ,GAAG,CAAK,CAE/E;AAEA,WAAM,iCAA0C;;;;IAE/C,aAAS,gBAAgB,OAAQ,WAAW,GAAI,IAAI,CAAC;QACpD,eAAe,MAAM,MAAM,CAAC,CAAC,CAAC,EAAE,AAAI,QAAQ;IAC7C;IAEA,aAAS,kBAAkB,QAAS,MAAM,EAAE,QAAS,GAAG,GAAI,IAAI,CAAC,CAEjE;AACD;AAEO,IAAS,yBAAyB,SAAS,+BAA+B,EAAE;IAElF,IAAI,iCAAiC,AAAI;IACzC,iBAAiB,QAAQ,OAAO;IAEhC,IAAM,UAAU,WAAW,aAAa;IACxC,IAAI,WAAW,IAAI,EAAE;QACpB,IAAM,gBAAgB,QAAQ,gBAAgB,CAAC,QAAQ,cAAc,EAAE,EAAE,CAAC;QAE1E,cAAc,kBAAkB,CAAC,gCAAgC,cAAc,gBAAgB,CAAC,OAAO,iBAAiB;QACxH,cAAc,gBAAgB,CAAC,gCAAgC,cAAc,gBAAgB,CAAC,OAAO,iBAAiB,GAAG,cAAc,mBAAmB;IAC3J;AACD;AAEO,IAAS,0BAA0B,CAE1C;AAEO,IAAS,uBAAuB,SAAS,6BAA6B,EAAE,CAE/E;AAEO,IAAS,0BAA0B,CAE1C;AAlDuC;IACtC,SAAA,YAAY,YAAW;IACvB,kBAAA,SAAO,YAAiE;AACzE;AAEqC;IACpC,SAAA,OAAO,aAAY;IACnB,SAAA,KAAK,aAAY;IACjB,kBAAA,SAAO,YAA4C;AACpD;iCAiByC,SAAS,yCAA+B;mHAxBtE,eAAgB,OAAO,WAAY,MAAM,OAAQ,GAAG;wBAApD,eAAuB,WAAkB;;;;;;;+BA0Cb,SAAS,uCAA6B;wHApClE,eAAgB,KAAK,OAAQ,GAAG;wBAAhC,eAAqB"}